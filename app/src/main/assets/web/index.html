<!DOCTYPE html>
<html>
<head>
	<title>kevin Server Control Panel</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="bootstrap/css/bootstrap.css">

	<style>
		html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            background: black;
        }

        #imgCamera {
            width: 100vw;
            height: 100vh;
            object-fit: contain; /* 不裁切 */
            display: block;
        }

        .control-panel {
            position: fixed;
            top: 10px;
            left: 10px;
            z-index: 10;
        }
	</style>
</head>

<body>

<!-- 🔴 Camera full screen -->
<img id="imgCamera" src="">

<!-- 🟢 控制 UI 疊在畫面上 -->
<div class="control-panel">
	<button onclick="StartPreview()" class="btn btn-primary">Preview</button>
	<button onclick="SwitchAE_mode()" class="btn btn-primary">夜間模式</button>

	<br><br>
</div>

<script src="bootstrap/js/jquery.js"></script>

<script>
	function SwitchAE_mode() {
        $.get("/api/exposure");
    }

    function StartPreview() {
        setInterval(function () {
            $.ajax({
                type: "GET",
                url: "/api/preview",
                dataType: "json",
                success: function (data) {
                    $('#imgCamera').attr('src', data);
                }
            });
        }, 200);
    }
</script>

</body>
</html>
